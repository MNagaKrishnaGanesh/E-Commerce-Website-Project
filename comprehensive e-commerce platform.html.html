<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MegaShop - Advanced E-Commerce</title>
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #10b981;
            --accent: #f59e0b;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --light-gray: #e2e8f0;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
        }

        body {
            background-color: #f1f5f9;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            font-size: 32px;
        }

        .nav-links {
            display: flex;
            gap: 25px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .search-bar {
            position: relative;
            width: 300px;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .action-icon {
            font-size: 22px;
            color: var(--dark);
            cursor: pointer;
            position: relative;
            transition: color 0.3s;
        }

        .action-icon:hover {
            color: var(--primary);
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 100px 0;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 52px;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero p {
            font-size: 20px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .btn {
            display: inline-block;
            background-color: var(--accent);
            color: white;
            padding: 14px 28px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

        .btn:hover {
            background-color: #e67e22;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid white;
            margin-left: 15px;
        }

        .btn-outline:hover {
            background-color: rgba(255,255,255,0.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,255,255,0.1);
        }

        /* Categories Section */
        .categories {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title h2 {
            font-size: 36px;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s;
            text-align: center;
            padding: 25px 15px;
            cursor: pointer;
            border: 1px solid var(--light-gray);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }

        .category-icon {
            font-size: 36px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .category-name {
            font-weight: 600;
            font-size: 18px;
        }

        /* Products Section */
        .products {
            padding: 40px 0 80px;
        }

        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .products-filter {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            position: relative;
        }

        .filter-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
            color: var(--dark);
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            background-color: white;
            font-size: 14px;
            min-width: 180px;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .view-options {
            display: flex;
            gap: 10px;
        }

        .view-btn {
            background-color: white;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .view-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .view-btn:hover {
            border-color: var(--primary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .products-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .product-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--danger);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            z-index: 2;
        }

        .product-badge.sale {
            background-color: var(--danger);
        }

        .product-badge.new {
            background-color: var(--success);
        }

        .product-badge.hot {
            background-color: var(--warning);
        }

        .product-img-container {
            position: relative;
            overflow: hidden;
            height: 200px;
        }

        .product-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .product-card:hover .product-img {
            transform: scale(1.05);
        }

        .product-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 2;
        }

        .product-card:hover .product-actions {
            opacity: 1;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            color: var(--dark);
        }

        .action-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .product-info {
            padding: 20px;
        }

        .product-category {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 5px;
        }

        .product-title {
            font-size: 18px;
            margin-bottom: 10px;
            font-weight: 600;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .current-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 20px;
        }

        .old-price {
            text-decoration: line-through;
            color: var(--gray);
            font-size: 16px;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .stars {
            color: var(--accent);
        }

        .rating-count {
            color: var(--gray);
            font-size: 14px;
        }

        .add-to-cart {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-to-cart:hover {
            background-color: var(--primary-dark);
        }

        .product-list-item {
            display: flex;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .product-list-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }

        .list-item-img {
            width: 200px;
            height: 200px;
            object-fit: cover;
        }

        .list-item-info {
            padding: 20px;
            flex: 1;
        }

        .list-item-desc {
            margin: 10px 0 15px;
            color: var(--gray);
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .list-item-actions {
            display: flex;
            gap: 15px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 50px;
            gap: 10px;
        }

        .page-btn {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            border: 1px solid var(--light-gray);
            cursor: pointer;
            transition: all 0.3s;
        }

        .page-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .page-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Cart Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
        }

        .close-modal {
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--danger);
        }

        .modal-body {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }

        .cart-items {
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--light-gray);
            gap: 20px;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-info {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
        }

        .cart-item-img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 6px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid var(--light-gray);
            background: none;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .quantity-btn:hover {
            background-color: var(--light);
            border-color: var(--primary);
            color: var(--primary);
        }

        .remove-item {
            color: var(--danger);
            cursor: pointer;
            background: none;
            border: none;
            font-size: 20px;
            transition: transform 0.3s;
        }

        .remove-item:hover {
            transform: scale(1.1);
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
            background-color: #f8fafc;
        }

        .cart-summary {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            font-size: 20px;
            font-weight: 700;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--success);
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .checkout-btn:hover {
            background-color: #0d9c6b;
        }

        .empty-cart {
            text-align: center;
            padding: 40px 0;
        }

        .empty-cart-icon {
            font-size: 60px;
            color: var(--light-gray);
            margin-bottom: 20px;
        }

        /* Quick View Modal */
        .quick-view-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .quick-view-content {
            background-color: white;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
        }

        .quick-view-img {
            width: 50%;
            object-fit: cover;
        }

        .quick-view-details {
            width: 50%;
            padding: 30px;
            overflow-y: auto;
        }

        .quick-view-title {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .quick-view-price {
            font-size: 24px;
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 20px;
        }

        .quick-view-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quick-view-desc {
            margin-bottom: 30px;
            line-height: 1.7;
            color: var(--gray);
        }

        .quick-view-actions {
            display: flex;
            gap: 15px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            overflow: hidden;
        }

        .qty-btn {
            width: 40px;
            height: 40px;
            background-color: #f1f5f9;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }

        .qty-input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: none;
            border-left: 1px solid var(--light-gray);
            border-right: 1px solid var(--light-gray);
            font-size: 16px;
        }

        /* Newsletter */
        .newsletter {
            background-color: var(--dark);
            color: white;
            padding: 60px 0;
            margin-top: 60px;
        }

        .newsletter-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .newsletter h2 {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .newsletter p {
            margin-bottom: 30px;
            opacity: 0.8;
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 6px 0 0 6px;
            font-size: 16px;
        }

        .newsletter-input:focus {
            outline: none;
        }

        .newsletter-btn {
            padding: 0 25px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 0 6px 6px 0;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .newsletter-btn:hover {
            background-color: #e67e22;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 18px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--primary);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column ul li a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: white;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #334155;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .social-link:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }

        .payment-methods {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .payment-method {
            width: 50px;
            height: 30px;
            background-color: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .copyright {
            text-align: center;
            padding: 20px 0;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 14px;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 3000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.error {
            background-color: var(--danger);
        }

        .toast.warning {
            background-color: var(--warning);
        }

        .toast.info {
            background-color: var(--info);
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .quick-view-content {
                flex-direction: column;
            }
            
            .quick-view-img, .quick-view-details {
                width: 100%;
            }
            
            .quick-view-img {
                height: 300px;
            }
        }

        @media (max-width: 992px) {
            .nav-links {
                display: none;
            }
            
            .search-bar {
                width: 200px;
            }
            
            .hero h1 {
                font-size: 42px;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 80px 0;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .btn {
                padding: 12px 20px;
            }
            
            .product-list-item {
                flex-direction: column;
            }
            
            .list-item-img {
                width: 100%;
                height: 200px;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .newsletter-input {
                border-radius: 6px;
                margin-bottom: 10px;
            }
            
            .newsletter-btn {
                border-radius: 6px;
                padding: 12px;
            }
        }

        @media (max-width: 576px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
                padding: 15px 0;
            }
            
            .nav-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .search-bar {
                width: 100%;
            }
            
            .hero h1 {
                font-size: 32px;
            }
            
            .section-title h2 {
                font-size: 28px;
            }
            
            .products-filter {
                flex-direction: column;
                align-items: flex-start;
                width: 100%;
            }
            
            .filter-group {
                width: 100%;
            }
            
            .filter-select {
                width: 100%;
            }
            
            .quick-view-actions {
                flex-direction: column;
            }
            
            .quantity-selector {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo">
                    <span class="logo-icon">🛍️</span>
                    <span>MegaShop</span>
                </a>
                
                <div class="nav-links">
                    <a href="#" class="active">Home</a>
                    <a href="#">Shop</a>
                    <a href="#">Categories</a>
                    <a href="#">Deals</a>
                    <a href="#">About</a>
                    <a href="#">Contact</a>
                </div>
                
                <div class="nav-actions">
                    <div class="search-bar">
                        <span class="search-icon">🔍</span>
                        <input type="text" placeholder="Search products..." id="searchInput">
                    </div>
                    
                    <div class="action-icon" id="wishlistIcon">
                        ♥
                        <span class="badge" id="wishlistCount">0</span>
                    </div>
                    
                    <div class="action-icon" id="cartIcon">
                        🛒
                        <span class="badge" id="cartCount">0</span>
                    </div>
                    
                    <div class="action-icon" id="accountIcon">
                        👤
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Discover Amazing Products</h1>
            <p>Shop the latest trends in electronics, fashion, home goods and more. Free shipping on orders over $50!</p>
            <div>
                <a href="#products" class="btn">Shop Now</a>
                <a href="#deals" class="btn btn-outline">View Deals</a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories">
        <div class="container">
            <div class="section-title">
                <h2>Shop by Category</h2>
                <p>Browse our wide range of product categories to find exactly what you're looking for</p>
            </div>
            
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories will be added dynamically -->
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products" id="products">
        <div class="container">
            <div class="products-header">
                <h2>Featured Products</h2>
                
                <div class="products-filter">
                    <div class="filter-group">
                        <label for="categoryFilter" class="filter-label">Category</label>
                        <select id="categoryFilter" class="filter-select">
                            <option value="all">All Categories</option>
                            <!-- Categories will be added dynamically -->
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="sortBy" class="filter-label">Sort By</label>
                        <select id="sortBy" class="filter-select">
                            <option value="featured">Featured</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Customer Rating</option>
                            <option value="newest">Newest Arrivals</option>
                        </select>
                    </div>
                    
                    <div class="view-options">
                        <button class="view-btn grid-view active" data-view="grid">☷ Grid</button>
                        <button class="view-btn list-view" data-view="list">☰ List</button>
                    </div>
                </div>
            </div>
            
            <div class="products-container">
                <div class="products-grid" id="productsContainer">
                    <!-- Products will be added dynamically -->
                </div>
            </div>
            
            <div class="pagination">
                <button class="page-btn prev-btn" disabled>«</button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="page-btn">4</button>
                <button class="page-btn">5</button>
                <button class="page-btn next-btn">»</button>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="newsletter-container">
            <h2>Subscribe to Our Newsletter</h2>
            <p>Get the latest updates on new products, special offers, and exclusive deals delivered straight to your inbox.</p>
            
            <form class="newsletter-form" id="newsletterForm">
                <input type="email" placeholder="Enter your email address" class="newsletter-input" required>
                <button type="submit" class="newsletter-btn">Subscribe</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>MegaShop</h3>
                    <p>Your one-stop destination for all your shopping needs. Quality products at affordable prices.</p>
                    
                    <div class="social-links">
                        <a href="#" class="social-link">f</a>
                        <a href="#" class="social-link">t</a>
                        <a href="#" class="social-link">in</a>
                        <a href="#" class="social-link">ig</a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Shop</h3>
                    <ul>
                        <li><a href="#">All Products</a></li>
                        <li><a href="#">Featured</a></li>
                        <li><a href="#">New Arrivals</a></li>
                        <li><a href="#">Sale Items</a></li>
                        <li><a href="#">Gift Cards</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Customer Service</h3>
                    <ul>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQs</a></li>
                        <li><a href="#">Shipping Policy</a></li>
                        <li><a href="#">Returns & Exchanges</a></li>
                        <li><a href="#">Track Order</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>About</h3>
                    <ul>
                        <li><a href="#">Our Story</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Payment Methods</h3>
                    <p>We accept all major credit cards and payment methods.</p>
                    
                    <div class="payment-methods">
                        <div class="payment-method">💳</div>
                        <div class="payment-method">📱</div>
                        <div class="payment-method">💰</div>
                        <div class="payment-method">🏦</div>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 MegaShop. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Your Shopping Cart</h2>
                <span class="close-modal" id="closeModal">&times;</span>
            </div>
            
            <div class="modal-body">
                <div class="cart-items" id="cartItems">
                    <div class="empty-cart">
                        <div class="empty-cart-icon">🛒</div>
                        <h3>Your cart is empty</h3>
                        <p>Looks like you haven't added anything to your cart yet</p>
                        <button class="btn" id="continueShoppingBtn" style="margin-top: 20px;">Continue Shopping</button>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <div class="cart-summary">
                    <div class="summary-item">
                        <span>Subtotal:</span>
                        <span>$<span id="cartSubtotal">0.00</span></span>
                    </div>
                    <div class="summary-item">
                        <span>Shipping:</span>
                        <span>$<span id="cartShipping">0.00</span></span>
                    </div>
                    <div class="summary-item">
                        <span>Tax:</span>
                        <span>$<span id="cartTax">0.00</span></span>
                    </div>
                    <div class="summary-item summary-total">
                        <span>Total:</span>
                        <span>$<span id="cartTotal">0.00</span></span>
                    </div>
                </div>
                
                <button class="checkout-btn" id="checkoutBtn">
                    <span>Proceed to Checkout</span>
                    <span>→</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Quick View Modal -->
    <div class="quick-view-modal" id="quickViewModal">
        <div class="quick-view-content">
            <img src="" alt="Product Image" class="quick-view-img" id="quickViewImg">
            
            <div class="quick-view-details">
                <h2 class="quick-view-title" id="quickViewTitle"></h2>
                <div class="quick-view-price" id="quickViewPrice"></div>
                
                <div class="quick-view-rating">
                    <div class="stars" id="quickViewStars"></div>
                    <span class="rating-count" id="quickViewRatingCount"></span>
                </div>
                
                <p class="quick-view-desc" id="quickViewDesc"></p>
                
                <div class="quick-view-actions">
                    <div class="quantity-selector">
                        <button class="qty-btn minus">-</button>
                        <input type="number" value="1" min="1" class="qty-input">
                        <button class="qty-btn plus">+</button>
                    </div>
                    
                    <button class="btn" id="quickViewAddToCart">
                        <span>Add to Cart</span>
                    </button>
                </div>
                
                <div class="product-meta" style="margin-top: 30px;">
                    <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                        <span>Category: <strong id="quickViewCategory"></strong></span>
                        <span>SKU: <strong id="quickViewSKU"></strong></span>
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <span>Availability: <strong id="quickViewStock"></strong></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span id="toastIcon">✓</span>
        <span id="toastMessage">Item added to cart successfully!</span>
    </div>

    <script>
        // Extensive Product Data (1000+ products)
        const categories = [
            { id: 1, name: "Electronics", icon: "📱" },
            { id: 2, name: "Clothing", icon: "👕" },
            { id: 3, name: "Home & Garden", icon: "🏠" },
            { id: 4, name: "Beauty", icon: "💄" },
            { id: 5, name: "Sports", icon: "⚽" },
            { id: 6, name: "Toys", icon: "🧸" },
            { id: 7, name: "Books", icon: "📚" },
            { id: 8, name: "Automotive", icon: "🚗" }
        ];

        // Generate 1000+ products
        const products = [];
        const productNames = [
            "Premium", "Deluxe", "Smart", "Wireless", "Portable", "Ergonomic", 
            "Advanced", "Professional", "Ultra", "Super", "Mini", "Maxi", "Eco", 
            "Digital", "Analog", "Intelligent", "Revolutionary", "Innovative"
        ];
        const productTypes = [
            "Smartphone", "Laptop", "Headphones", "Watch", "Speaker", "Camera",
            "T-Shirt", "Jeans", "Dress", "Shoes", "Jacket", "Sweater",
            "Chair", "Table", "Lamp", "Blender", "Knife Set", "Cookware",
            "Perfume", "Moisturizer", "Shampoo", "Makeup Kit", "Razor", "Brush",
            "Bicycle", "Treadmill", "Dumbbell", "Yoga Mat", "Football", "Basketball",
            "Action Figure", "Board Game", "Puzzle", "Doll", "RC Car", "Lego Set",
            "Novel", "Textbook", "Journal", "Cookbook", "Biography", "Encyclopedia",
            "Tire", "Battery", "Car Wax", "Seat Cover", "GPS", "Car Charger"
        ];

        for (let i = 1; i <= 1000; i++) {
            const categoryId = Math.floor(Math.random() * categories.length) + 1;
            const category = categories.find(c => c.id === categoryId).name;
            
            const nameIndex1 = Math.floor(Math.random() * productNames.length);
            const nameIndex2 = Math.floor(Math.random() * productTypes.length);
            const name = `${productNames[nameIndex1]} ${productTypes[nameIndex2]}`;
            
            const basePrice = Math.floor(Math.random() * 900) + 100;
            const discount = Math.random() > 0.7 ? Math.floor(Math.random() * 50) + 10 : 0;
            const price = discount > 0 ? basePrice * (1 - discount/100) : basePrice;
            
            products.push({
                id: i,
                name: name,
                category: category,
                categoryId: categoryId,
                price: price,
                originalPrice: discount > 0 ? basePrice : null,
                description: `This ${name.toLowerCase()} features premium quality materials and innovative design. Perfect for everyday use with exceptional durability and performance.`,
                rating: (Math.random() * 1 + 4).toFixed(1),
                reviewCount: Math.floor(Math.random() * 500),
                image: `https://picsum.photos/500/500?random=${i}`,
                stock: Math.random() > 0.2 ? "In Stock" : "Out of Stock",
                sku: `SKU-${Math.floor(100000 + Math.random() * 900000)}`,
                badge: Math.random() > 0.7 ? (Math.random() > 0.5 ? "sale" : "new") : null
            });
        }

        // Cart and Wishlist Data
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        let currentView = 'grid';
        let currentPage = 1;
        const productsPerPage = 12;

        // DOM Elements
        const categoriesGrid = document.getElementById('categoriesGrid');
        const productsContainer = document.getElementById('productsContainer');
        const categoryFilter = document.getElementById('categoryFilter');
        const sortBy = document.getElementById('sortBy');
        const viewButtons = document.querySelectorAll('.view-btn');
        const cartIcon = document.getElementById('cartIcon');
        const cartCount = document.getElementById('cartCount');
        const wishlistIcon = document.getElementById('wishlistIcon');
        const wishlistCount = document.getElementById('wishlistCount');
        const cartModal = document.getElementById('cartModal');
        const closeModal = document.getElementById('closeModal');
        const cartItems = document.getElementById('cartItems');
        const cartSubtotal = document.getElementById('cartSubtotal');
        const cartShipping = document.getElementById('cartShipping');
        const cartTax = document.getElementById('cartTax');
        const cartTotal = document.getElementById('cartTotal');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const continueShoppingBtn = document.getElementById('continueShoppingBtn');
        const quickViewModal = document.getElementById('quickViewModal');
        const quickViewImg = document.getElementById('quickViewImg');
        const quickViewTitle = document.getElementById('quickViewTitle');
        const quickViewPrice = document.getElementById('quickViewPrice');
        const quickViewStars = document.getElementById('quickViewStars');
        const quickViewRatingCount = document.getElementById('quickViewRatingCount');
        const quickViewDesc = document.getElementById('quickViewDesc');
        const quickViewCategory = document.getElementById('quickViewCategory');
        const quickViewSKU = document.getElementById('quickViewSKU');
        const quickViewStock = document.getElementById('quickViewStock');
        const quickViewAddToCart = document.getElementById('quickViewAddToCart');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const toastIcon = document.getElementById('toastIcon');
        const searchInput = document.getElementById('searchInput');
        const newsletterForm = document.getElementById('newsletterForm');
        const pageButtons = document.querySelectorAll('.page-btn');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');

        // Initialize the page
        function init() {
            displayCategories();
            displayProducts();
            updateCart();
            updateWishlist();
            
            // Populate category filter
            categoryFilter.innerHTML = '<option value="all">All Categories</option>';
            categories.forEach(category => {
                categoryFilter.innerHTML += `<option value="${category.id}">${category.name}</option>`;
            });
            
            // Add event listeners
            categoryFilter.addEventListener('change', filterProducts);
            sortBy.addEventListener('change', sortProducts);
            viewButtons.forEach(btn => {
                btn.addEventListener('click', changeView);
            });
            cartIcon.addEventListener('click', openCartModal);
            closeModal.addEventListener('click', closeCartModal);
            continueShoppingBtn.addEventListener('click', closeCartModal);
            checkoutBtn.addEventListener('click', checkout);
            wishlistIcon.addEventListener('click', openWishlist);
            searchInput.addEventListener('input', searchProducts);
            newsletterForm.addEventListener('submit', handleNewsletter);
            
            // Pagination events
            pageButtons.forEach(btn => {
                if (!btn.classList.contains('prev-btn') && !btn.classList.contains('next-btn')) {
                    btn.addEventListener('click', () => {
                        currentPage = parseInt(btn.textContent);
                        displayProducts();
                    });
                }
            });
            
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayProducts();
                }
            });
            
            nextBtn.addEventListener('click', () => {
                currentPage++;
                displayProducts();
            });
        }

        // Display Categories
        function displayCategories() {
            categoriesGrid.innerHTML = '';
            categories.forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.innerHTML = `
                    <div class="category-icon">${category.icon}</div>
                    <div class="category-name">${category.name}</div>
                `;
                categoryCard.addEventListener('click', () => {
                    categoryFilter.value = category.id;
                    filterProducts();
                });
                categoriesGrid.appendChild(categoryCard);
            });
        }

        // Display Products
        function displayProducts(filteredProducts = products) {
            // Clear previous products
            productsContainer.innerHTML = '';
            
            // Calculate pagination
            const startIndex = (currentPage - 1) * productsPerPage;
            const endIndex = startIndex + productsPerPage;
            const paginatedProducts = filteredProducts.slice(startIndex, endIndex);
            const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            
            // Update pagination
            updatePagination(totalPages);
            
            if (currentView === 'grid') {
                productsContainer.classList.remove('products-list');
                productsContainer.classList.add('products-grid');
                
                paginatedProducts.forEach(product => {
                    const productCard = createProductCard(product);
                    productsContainer.appendChild(productCard);
                });
            } else {
                productsContainer.classList.remove('products-grid');
                productsContainer.classList.add('products-list');
                
                paginatedProducts.forEach(product => {
                    const productItem = createProductListItem(product);
                    productsContainer.appendChild(productItem);
                });
            }
            
            // Add event listeners to quick view buttons
            document.querySelectorAll('.quick-view-btn').forEach(btn => {
                btn.addEventListener('click', openQuickView);
            });
            
            // Add event listeners to add to cart buttons
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', addToCart);
            });
            
            // Add event listeners to wishlist buttons
            document.querySelectorAll('.wishlist-btn').forEach(btn => {
                btn.addEventListener('click', toggleWishlist);
            });
        }

        // Create Product Card (Grid View)
        function createProductCard(product) {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            
            let badgeHTML = '';
            if (product.badge) {
                badgeHTML = `<span class="product-badge ${product.badge}">${product.badge === 'sale' ? 'Sale' : 'New'}</span>`;
            }
            
            productCard.innerHTML = `
                ${badgeHTML}
                <div class="product-img-container">
                    <img src="${product.image}" alt="${product.name}" class="product-img">
                    <div class="product-actions">
                        <button class="action-btn quick-view-btn" data-id="${product.id}">👁️</button>
                        <button class="action-btn wishlist-btn" data-id="${product.id}">
                            ${wishlist.some(item => item.id === product.id) ? '♥' : '♡'}
                        </button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="product-category">${product.category}</div>
                    <h3 class="product-title">${product.name}</h3>
                    <div class="product-price">
                        <span class="current-price">$${product.price.toFixed(2)}</span>
                        ${product.originalPrice ? `<span class="old-price">$${product.originalPrice.toFixed(2)}</span>` : ''}
                    </div>
                    <div class="product-rating">
                        <div class="stars">${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}</div>
                        <span class="rating-count">(${product.reviewCount})</span>
                    </div>
                    <button class="add-to-cart" data-id="${product.id}">🛒 Add to Cart</button>
                </div>
            `;
            
            return productCard;
        }

        // Create Product List Item (List View)
        function createProductListItem(product) {
            const productItem = document.createElement('div');
            productItem.className = 'product-list-item';
            
            let badgeHTML = '';
            if (product.badge) {
                badgeHTML = `<span class="product-badge ${product.badge}">${product.badge === 'sale' ? 'Sale' : 'New'}</span>`;
            }
            
            productItem.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="list-item-img">
                <div class="list-item-info">
                    ${badgeHTML}
                    <div class="product-category">${product.category}</div>
                    <h3 class="product-title">${product.name}</h3>
                    <div class="product-rating">
                        <div class="stars">${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}</div>
                        <span class="rating-count">(${product.reviewCount})</span>
                    </div>
                    <p class="list-item-desc">${product.description}</p>
                    <div class="product-price">
                        <span class="current-price">$${product.price.toFixed(2)}</span>
                        ${product.originalPrice ? `<span class="old-price">$${product.originalPrice.toFixed(2)}</span>` : ''}
                    </div>
                    <div class="list-item-actions">
                        <button class="quick-view-btn" data-id="${product.id}">Quick View</button>
                        <button class="wishlist-btn" data-id="${product.id}">
                            ${wishlist.some(item => item.id === product.id) ? '♥ Wishlisted' : '♡ Add to Wishlist'}
                        </button>
                        <button class="add-to-cart" data-id="${product.id}">🛒 Add to Cart</button>
                    </div>
                </div>
            `;
            
            return productItem;
        }

        // Filter Products
        function filterProducts() {
            const categoryId = categoryFilter.value;
            const searchTerm = searchInput.value.toLowerCase();
            
            let filteredProducts = products;
            
            // Filter by category
            if (categoryId !== 'all') {
                filteredProducts = filteredProducts.filter(product => product.categoryId === parseInt(categoryId));
            }
            
            // Filter by search term
            if (searchTerm) {
                filteredProducts = filteredProducts.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.category.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm)
                );
            }
            
            // Reset to first page when filtering
            currentPage = 1;
            displayProducts(filteredProducts);
        }

        // Sort Products
        function sortProducts() {
            const sortValue = sortBy.value;
            let sortedProducts = [...products];
            
            switch (sortValue) {
                case 'price-low':
                    sortedProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    sortedProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    sortedProducts.sort((a, b) => b.rating - a.rating);
                    break;
                case 'newest':
                    sortedProducts.sort((a, b) => b.id - a.id);
                    break;
                default:
                    // Default sorting (featured)
                    break;
            }
            
            displayProducts(sortedProducts);
        }

        // Change View (Grid/List)
        function changeView(e) {
            const view = e.target.getAttribute('data-view');
            currentView = view;
            
            viewButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            e.target.classList.add('active');
            displayProducts();
        }

        // Search Products
        function searchProducts() {
            filterProducts();
        }

        // Update Pagination
        function updatePagination(totalPages) {
            const pageBtns = document.querySelectorAll('.page-btn:not(.prev-btn):not(.next-btn)');
            
            // Remove all page buttons except first and last
            pageBtns.forEach((btn, index) => {
                if (index > 0 && index < pageBtns.length - 1) {
                    btn.remove();
                }
            });
            
            // Add page buttons based on current page and total pages
            const pagination = document.querySelector('.pagination');
            const firstPageBtn = pageBtns[0];
            const lastPageBtn = pageBtns[pageBtns.length - 1];
            
            // Always show first page button
            firstPageBtn.textContent = '1';
            firstPageBtn.classList.toggle('active', currentPage === 1);
            
            // Show up to 5 pages around current page
            let startPage = Math.max(2, currentPage - 2);
            let endPage = Math.min(totalPages - 1, currentPage + 2);
            
            // Adjust if we're at the beginning or end
            if (currentPage <= 3) {
                endPage = Math.min(5, totalPages - 1);
            } else if (currentPage >= totalPages - 2) {
                startPage = Math.max(totalPages - 4, 2);
            }
            
            // Add page buttons
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                pageBtn.textContent = i;
                pageBtn.addEventListener('click', () => {
                    currentPage = i;
                    displayProducts();
                });
                firstPageBtn.insertAdjacentElement('afterend', pageBtn);
            }
            
            // Always show last page button if there are multiple pages
            if (totalPages > 1) {
                lastPageBtn.textContent = totalPages;
                lastPageBtn.classList.toggle('active', currentPage === totalPages);
                lastPageBtn.style.display = 'flex';
            } else {
                lastPageBtn.style.display = 'none';
            }
            
            // Update prev/next buttons
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
        }

        // Cart Functions
        function addToCart(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const product = products.find(p => p.id === productId);
            
            if (product.stock === "Out of Stock") {
                showToast("This product is out of stock", "error");
                return;
            }
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCart();
            showToast(`${product.name} added to cart`);
        }

        function updateCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
            
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            renderCartItems();
        }

        function renderCartItems() {
            if (cart.length === 0) {
                document.querySelector('.empty-cart').style.display = 'block';
                document.querySelector('.modal-footer').style.display = 'none';
                return;
            }
            
            document.querySelector('.empty-cart').style.display = 'none';
            document.querySelector('.modal-footer').style.display = 'block';
            
            cartItems.innerHTML = '';
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-img">
                        <div class="cart-item-details">
                            <h4 class="cart-item-title">${item.name}</h4>
                            <div class="cart-item-price">$${item.price.toFixed(2)}</div>
                        </div>
                    </div>
                    <div class="cart-item-actions">
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" data-id="${item.id}" data-action="decrease">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" data-id="${item.id}" data-action="increase">+</button>
                        </div>
                        <button class="remove-item" data-id="${item.id}">🗑️</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            // Calculate totals
            const shipping = subtotal > 50 ? 0 : 9.99;
            const tax = subtotal * 0.1; // 10% tax
            
            cartSubtotal.textContent = subtotal.toFixed(2);
            cartShipping.textContent = shipping.toFixed(2);
            cartTax.textContent = tax.toFixed(2);
            cartTotal.textContent = (subtotal + shipping + tax).toFixed(2);
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', updateCartItemQuantity);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', removeCartItem);
            });
        }

        function updateCartItemQuantity(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const action = e.target.getAttribute('data-action');
            
            const item = cart.find(item => item.id === productId);
            
            if (action === 'increase') {
                item.quantity += 1;
            } else if (action === 'decrease' && item.quantity > 1) {
                item.quantity -= 1;
            }
            
            updateCart();
        }

        function removeCartItem(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        function openCartModal() {
            cartModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeCartModal() {
            cartModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function checkout() {
            if (cart.length === 0) {
                showToast("Your cart is empty", "error");
                return;
            }
            
            showToast(`Order placed successfully! Total: $${cartTotal.textContent}`, "success");
            
            // In a real app, you would redirect to a checkout page
            cart = [];
            updateCart();
            closeCartModal();
        }

        // Wishlist Functions
        function toggleWishlist(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const product = products.find(p => p.id === productId);
            
            const index = wishlist.findIndex(item => item.id === productId);
            
            if (index === -1) {
                wishlist.push(product);
                e.target.innerHTML = currentView === 'grid' ? '♥' : '♥ Wishlisted';
                showToast(`${product.name} added to wishlist`);
            } else {
                wishlist.splice(index, 1);
                e.target.innerHTML = currentView === 'grid' ? '♡' : '♡ Add to Wishlist';
                showToast(`${product.name} removed from wishlist`, "info");
            }
            
            updateWishlist();
        }

        function updateWishlist() {
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            wishlistCount.textContent = wishlist.length;
        }

        function openWishlist() {
            // In a real app, you would show a wishlist modal or page
            showToast(`You have ${wishlist.length} items in your wishlist`, "info");
        }

        // Quick View Functions
        function openQuickView(e) {
            const productId = parseInt(e.target.getAttribute('data-id'));
            const product = products.find(p => p.id === productId);
            
            quickViewImg.src = product.image;
            quickViewImg.alt = product.name;
            quickViewTitle.textContent = product.name;
            
            if (product.originalPrice) {
                quickViewPrice.innerHTML = `
                    <span style="color: var(--danger); text-decoration: line-through; margin-right: 10px;">$${product.originalPrice.toFixed(2)}</span>
                    <span>$${product.price.toFixed(2)}</span>
                `;
            } else {
                quickViewPrice.textContent = `$${product.price.toFixed(2)}`;
            }
            
            quickViewStars.innerHTML = '★'.repeat(Math.floor(product.rating)) + '☆'.repeat(5 - Math.floor(product.rating));
            quickViewRatingCount.textContent = `(${product.reviewCount} reviews)`;
            quickViewDesc.textContent = product.description;
            quickViewCategory.textContent = product.category;
            quickViewSKU.textContent = product.sku;
            quickViewStock.textContent = product.stock;
            quickViewStock.style.color = product.stock === "In Stock" ? "var(--success)" : "var(--danger)";
            
            quickViewAddToCart.setAttribute('data-id', product.id);
            
            quickViewModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            // Add event listeners to quantity buttons
            document.querySelector('.qty-btn.minus').addEventListener('click', decreaseQty);
            document.querySelector('.qty-btn.plus').addEventListener('click', increaseQty);
            document.querySelector('.qty-input').addEventListener('change', validateQty);
            
            // Add event listener to add to cart button
            quickViewAddToCart.addEventListener('click', addToCartFromQuickView);
            
            // Close modal when clicking outside
            quickViewModal.addEventListener('click', (e) => {
                if (e.target === quickViewModal) {
                    closeQuickView();
                }
            });
        }

        function closeQuickView() {
            quickViewModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function decreaseQty() {
            const qtyInput = document.querySelector('.qty-input');
            if (parseInt(qtyInput.value) > 1) {
                qtyInput.value = parseInt(qtyInput.value) - 1;
            }
        }

        function increaseQty() {
            const qtyInput = document.querySelector('.qty-input');
            qtyInput.value = parseInt(qtyInput.value) + 1;
        }

        function validateQty(e) {
            if (parseInt(e.target.value) < 1 || isNaN(parseInt(e.target.value))) {
                e.target.value = 1;
            }
        }

        function addToCartFromQuickView() {
            const productId = parseInt(quickViewAddToCart.getAttribute('data-id'));
            const product = products.find(p => p.id === productId);
            const quantity = parseInt(document.querySelector('.qty-input').value);
            
            if (product.stock === "Out of Stock") {
                showToast("This product is out of stock", "error");
                return;
            }
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...product,
                    quantity: quantity
                });
            }
            
            updateCart();
            showToast(`${quantity} ${product.name}(s) added to cart`);
            closeQuickView();
        }

        // Newsletter Function
        function handleNewsletter(e) {
            e.preventDefault();
            const email = e.target.querySelector('input').value;
            
            // In a real app, you would send this to your backend
            showToast(`Thanks for subscribing with ${email}!`, "success");
            e.target.reset();
        }

        // Toast Notification
        function showToast(message, type = "success") {
            toast.className = `toast ${type}`;
            toastMessage.textContent = message;
            
            // Set icon based on type
            switch(type) {
                case "error":
                    toastIcon.textContent = "✕";
                    break;
                case "warning":
                    toastIcon.textContent = "⚠";
                    break;
                case "info":
                    toastIcon.textContent = "i";
                    break;
                default:
                    toastIcon.textContent = "✓";
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize the app
        init();
    </script>
</body>
</html>